# Generated by Chef
# host definitions

<% @hosts.each do |host_name, host_data| -%>
define host {
  use server
  address <%= host_data['ipaddress'] %>
  host_name <%= host_name %>
  hostgroups all,<%= host_data['hostgroups'].join(",") %>
}
<% end -%>

define host {
  use server
  address <%= node['private_chef']['opscode-webui']['vip'] %>
  host_name opscode-webui-vip
  hostgroups opscode-webui-vip,ha-vips 
}

define host {
  use server
  address <%= node['private_chef']['opscode-account']['vip'] %>
  host_name opscode-account-vip
  hostgroups opscode-account-vip,ha-vips 
}

define host {
  use server
  address <%= node['private_chef']['opscode-erchef']['vip'] %>
  host_name opscode-erchef-vip
  hostgroups opscode-erchef-vip,ha-vips
}

define host {
  use server
  address <%= node['private_chef']['couchdb']['vip'] %>
  host_name couchdb-vip
  hostgroups couchdb-vip,ha-vips 
}
define host {
  use server
  address <%= node['private_chef']['redis']['vip'] %>
  host_name redis-vip
  hostgroups redis-vip,ha-vips 
}
define host {
  use server
  address <%= node['private_chef']['opscode-solr']['vip'] %>
  host_name opscode-solr-vip
  hostgroups opscode-solr-vip,ha-vips 
}
define host {
  use server
  address <%= node['private_chef']['rabbitmq']['vip'] %>
  host_name rabbitmq-vip
  hostgroups rabbitmq-vip,ha-vips
}
define host {
  use server
  address <%= node['private_chef']['lb']['vip'] %>
  host_name lb-vip
  hostgroups lb-vip,ha-vips
}

define host {
  use server
  address <%= node['private_chef']['lb_internal']['vip'] %>
  host_name lb_internal-vip
  hostgroups lb_internal-vip,ha-vips
}
define host {
  use server
  address <%= node['private_chef'][node['private_chef']['database_type']]['vip'] %>
  host_name <%= node['private_chef']['database_type'] %>-vip
  hostgroups <%= node['private_chef']['database_type'] %>-vip,ha-vips
}

